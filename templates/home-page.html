{% extends 'base.html' %}
{% block title %}
  <title>Home Page</title>
{% endblock %}
{% block content %}
  <div class="container-fluid py-3">
    <div class="row">
      <div class="col-12 mb-4">
        <div class="card shadow-sm rounded-3">
          <div class="card-header bg-primary text-white text-center fs-3 fw-bold">
            {% if search_date %}
              Rapport du {{ search_date }}
            {% else %}
              Rapport
            {% endif %}
          </div>

          <div class="card-body p-0 table-responsive">
            <div class="row">
              {% include 'home_head.html' %}
            </div>
            <div class="row">
              {% include 'table.html' %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Deuxième bloc : arrêts -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card shadow-sm rounded-3">
          <div class="card-body p-0 table-responsive">
            {% include 'home_pannes_table.html' %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Styles personnalisés -->
  <style>
    /* Couleurs adoucies */
    .bg-orange-100 {
      background-color: #fbc793 !important;
    }
    .bg-success-subtle {
      background-color: #b8f3bdff !important;
    }
    .bg-info-subtle {
      background-color: #c2d6f4ff !important;
    }
    .bg-warning-subtle {
      background-color: #fff6d6 !important;
    }
    .bg-violet {
      background-color: #c5b9f3ed !important;
      color: #fff !important;
    }
    
    /* Tailles et espacements */
    .heith {
      height: 160px !important;
    } /* réduit par rapport à l'original pour moins de poids visuel */
    .wdth {
      width: 30px !important;
    }
    table th,
    table td {
      vertical-align: middle !important;
      padding: 0.55rem !important;
      font-size: 0.95rem;
    }
    
    /* Sticky thead for better navigation when scrolling */
    thead th {
      position: sticky;
      top: 0;
      z-index: 5;
      backdrop-filter: blur(2px);
    }
    
    /* Card header visual */
    .card-header {
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .heith {
        height: auto !important;
      }
      table {
        font-size: 0.88rem;
      }
    }
  </style>

  {% include 'refreesh.html' %}
{% endblock %}
